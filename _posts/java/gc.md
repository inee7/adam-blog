# JAVA Garbage Collection

GC가 실행되면 JVM이 애플리케이션 실행을 멈춘다. 

그만큼 GC튜닝을 잘해야 성능을 높일 수 있다는 말이다. 



#####Young영역 

: 새롭게 생성한 객체 대부분은 여기에 위치한다. 그러다 대부분 금방 접근 불가능한 상태가 되서 Young에 생성됐다가 사라진다. 

Yong에서는 Minor GC가 발생 

#####Old영역 (Yong영역보다 큰 공간이므로 GC는 적게 발생)

: 접근 불가능 상태로 되지 않아 Young영역에서 살아남은 객체가 여기로 여기로 복사된다. 

Old에서는 Major GC(or Full GC) 발생

#####Perm영역

: 메소드영역이라고 한다. 객체나 억류된 문자열 정보를 저장하는 곳. Old영역에서 살아남은 객체가 영원히 남아있는곳은 절대 아님. 여기서 GC발생해도 Major GC의 횟수에 포함. 



![](../../assets/gc영역.png)



Old 영역에 있는 객체가 Young영역의 객체를 참조하는 경우 해결하기 위해 Old영역에 512바이트의 chunk로 되어있는 카드 테이블이 존재

![](../../assets/카드테이블구조.png)

Young영역의 GC를 실행할 때에는 Old영역에 있는 모든 객체의 참조를 확인하지 않고 , 이 카드 테이블만 뒤져서 GC대상인지 식별.

카드 테이블은 write barrier을 사용하여 관리. write barrier은 Minor GC를 빠르게 할 수 있도록 하는 장치. 오버헤드는 발생하지만 GC시간은 줄어들게 함.  